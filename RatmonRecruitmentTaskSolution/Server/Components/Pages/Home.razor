@page "/"
@using Microsoft.AspNetCore.Authorization
@using Server.Services

@attribute [Authorize]

@inject NavigationManager NavigationManager
@inject DeviceService DeviceService
@inject DeviceDataService deviceDataService

<PageTitle>Home</PageTitle>

<AuthorizeView>

    Hello @context.User.Identity?.Name!

    <RadzenStack Orientation="Radzen.Orientation.Vertical">
        @foreach(var device in devices)
        {
            <Server.Components.Shared.DeviceLatestDataView Device="device"/>
        }
    </RadzenStack>
    

</AuthorizeView>

